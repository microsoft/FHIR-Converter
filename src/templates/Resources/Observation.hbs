{
    "fullUrl":"urn:uuid:{{ID}}",
    "resource":{
        "resourceType": "Observation",
        "id":"{{ID}}",
        
        "identifier":
        [
        	{{#each (toArray observationEntry.id)}}
            	{{>DataType/Identifier.hbs id=this}},
            {{/each}}
        ],
        "status":{{>ValueSet/ObservationStatus.hbs code=observationEntry.statusCode.code}},
        {{#if observationEntry.code.translation.code}},
            "code": {{>DataType/CodeableConcept.hbs code=observationEntry.code.translation}},
        {{else}},
            "code": {{>DataType/CodeableConcept.hbs code=observationEntry.code}},
        {{/if}}
        
        {{#if observationEntry.effectiveTime.low.value}}
            "effectivePeriod":
            {
                "start":"{{formatAsDateTime observationEntry.effectiveTime.low.value}}",
                "end":"{{formatAsDateTime observationEntry.effectiveTime.high.value}}",
            },
        {{else}},
            "effectiveDateTime":"{{formatAsDateTime observationEntry.effectiveTime.value}}",
        {{/if}}
        
        "bodySite":{{>DataType/CodeableConcept.hbs code=observationEntry.targetSiteCode}},
        
        {{#if observationEntry.value.code}}
            "valueCodeableConcept":{{>DataType/CodeableConcept.hbs code=observationEntry.value}},
        {{else observation.value.value}},
            "valueQuantity":
            {
                "value":{{observationEntry.value.value}},
                "unit":"{{observationEntry.value.unit}}",
            }, 
        {{else}},
            "valueString":"{{observationEntry.value._}}",
        {{/if}}
        
        "referenceRange":
        [
          {
            "low":
                {
                    "value":{{observationEntry.referenceRange.observationRange.value.low.value}},
                    "unit":"{{observationEntry.referenceRange.observationRange.value.low.unit}}",
                }
           "high":
               {
                   "value":{{observationEntry.referenceRange.observationRange.value.high.value}},
                   "unit":"{{observationEntry.referenceRange.observationRange.value.high.unit}}",
               }
          },
        ],
        "interpretation":
        [
            {{>DataType/CodeableConcept.hbs code=observationEntry.interpretationCode}},
        ],
    },
    "request":{
        "method":"PUT",
        "url":"Observation/{{ID}}",
    },
},
