{% assign segment = '' -%}
{% capture segment -%}
{% if NTE -%}{{NTE.Value}}
{% elsif OBX.21.1 and OBX.21.2 -%}{{OBX.21.1.Value}},{{OBX.21.2.Value}}
{% elsif OBX.21.3 and OBX.21.4 -%}{{OBX.21.3.Value}},{{OBX.21.4.Value}}
{% elsif OBX -%}{{OBX.Value}}
{% elsif PID.22 -%}{{PID.22.Value}}
{% elsif PID.10 -%}{{PID.10.Value}}
{% endif -%}
{% endcapture -%}
{% capture input -%}{{segment | generate_id_input: 'Observation', false, baseId}}{% endcapture -%}
{{ input | generate_uuid }}