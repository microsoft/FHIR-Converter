{% comment -%}
The following reference IDs are accepted by this template.

Device_Definition_ID: A resource Id used to fill "definition.reference" property.
Device_Patient_ID: A resource Id used to fill "patient.reference" property.
Device_Owner_ID: A resource Id used to fill "owner.reference" property.
Device_Location_ID: A resource Id used to fill "location.reference" property.
Device_Parent_ID: A resource Id used to fill "parent.reference" property.
{% endcomment -%}

{
    "fullUrl":"urn:uuid:{{ ID }}",
    "resource":{
        "resourceType": "Device",
        "id":"{{ ID }}",
        "identifier":
        [
            {
                {% include 'DataType/EIIdentifier' EI: OBX.18.Repeats[0] -%}
            },
            {
                {% include 'DataType/EIIdentifier' EI: PRT.10 -%}
            },
        ],
        "udiCarrier":
        [
            {% comment -%} Placeholder provided for customization by users. If left empty, it will be removed in post-processing. {% endcomment -%}
            {
            },
            {% comment -%} Placeholder provided for customization by users. If left empty, it will be removed in post-processing. {% endcomment -%}
            {
            },
        ],
        "manufactureDate":"{{ PRT.17.Value | format_as_date_time }}",
        "expirationDate":"{{ PRT.18.Value | format_as_date_time }}",
        "lotNumber":"{{ PRT.19.Value }}",
        "serialNumber":"{{ PRT.20.Value }}",
        {% comment -%} Placeholder provided for customization by users. If left empty, it will be removed in post-processing. {% endcomment -%}
        "type":
        {
        },
        "definition":
        {
            "reference":"{{ Device_Definition_ID }}",
        },
        "patient":
        {
            "reference":"{{ Device_Patient_ID }}",
        },
        "owner":
        {
            "reference":"{{ Device_Owner_ID }}",
        },
        "location":
        {
            "reference":"{{ Device_Location_ID }}",
        },
        "parent":
        {
            "reference":"{{ Device_Parent_ID }}",
        },
    },
    "request":{
        "method":"PUT",
        "url":"Device/{{ ID }}",
    },
},
