{% if PL.5 or PL.9 -%}
    {% if PL.5 and PL.9 -%}
        {% assign PL_Value_Except_PL5_PL9 = PL.Value | remove: PL.5.Value | remove: PL.9.Value %}
    {% endif -%}
    {% if PL.5 and PL.9 == null or PL.9 == "" -%}
        {% assign PL_Value_Except_PL5_PL9= PL.Value | remove: PL.5.Value %}
    {% endif -%}
    {% if PL.9 and PL.5 == null or PL.5 == "" -%}
        {% assign PL_Value_Except_PL5_PL9= PL.Value | remove: PL.9.Value %}
    {% endif -%}
{% else -%}
    {% assign PL_Value_Except_PL5_PL9 = PL.Value %}
{% endif -%}

{% if PL.1 -%}
    {% evaluate locationId_PL_1 using 'ID/Location' PL_Field_Value: PL.1, PL: PL, PL_Value_Except_PL5_PL9: PL_Value_Except_PL5_PL9 -%}
{% else -%}
    {% assign locationId_PL_1= null -%}
{% endif -%}
{% if PL.2 -%}
    {% evaluate locationId_PL_2 using 'ID/Location' PL_Field_Value: PL.2, PL: PL, PL_Value_Except_PL5_PL9: PL_Value_Except_PL5_PL9 -%}
{% else -%}
    {% assign locationId_PL_2 = null -%}
{% endif -%}
{% if PL.3 -%}
    {% evaluate locationId_PL_3 using 'ID/Location' PL_Field_Value: PL.3, PL: PL, PL_Value_Except_PL5_PL9: PL_Value_Except_PL5_PL9 -%}
{% else -%}
    {% assign locationId_PL_3 = null -%}
{% endif -%}
{% if PL.4 -%}
    {% evaluate locationId_PL_4 using 'ID/Location' PL_Field_Value: PL.4, PL: PL, PL_Value_Except_PL5_PL9: PL_Value_Except_PL5_PL9 -%}
{% else -%}
    {% assign locationId_PL_4 = null -%}
{% endif -%}
{% if PL.7 -%}
    {% evaluate locationId_PL_7 using 'ID/Location' PL_Field_Value: PL.7, PL: PL, PL_Value_Except_PL5_PL9: PL_Value_Except_PL5_PL9 -%}
{% else -%}
    {% assign locationId_PL_7 = null -%}
{% endif -%}
{% if PL.8 -%}
    {% evaluate locationId_PL_8 using 'ID/Location' PL_Field_Value: PL.8, PL: PL, PL_Value_Except_PL5_PL9: PL_Value_Except_PL5_PL9 -%}
{% else -%}
    {% assign locationId_PL_8 = null -%}
{% endif -%}

{% if PL.1 -%}
{
    "fullUrl":"urn:uuid:{{ locationId_PL_1 }}",
    "resource":{
        "resourceType": "Location",
        "id":"{{ locationId_PL_1 }}",
        {% if locationId_PL_8 -%}
        "partOf":{
            "reference":"Location/{{locationId_PL_8}}"
        },
        {% endif %}
        {% include 'DataType/PL_HDLocation' HD: PL.1 -%},
        "mode":"instance",
        {% assign PLValue= PL.Value%}
        {% capture textstring %}{{ PLValue  | split: "^" | join: "--" }}{% endcapture -%}
        {% capture specomp %}{{ textstring  | split: "~" | join: "+" }}{% endcapture -%}
        {% capture description %}{{ specomp  | split: "&" | join: "--" }}{% endcapture -%}
        "description" : "{{ description }}",
        "alias" : [
            "{{NTE.3.Value}}",
            ],
        "type" : [
            { 
                {% include 'DataType/CWECodeableConcept' mapping: 'CodeSystem/LocationRoleType', CWE: AIL_4 -%}
            },
        ],
        "physicalType":{
            "coding":[
               {
                  "system":"http://terminology.hl7.org/CodeSystem/location-physical-type",
                  "code":"lvl"
               }
            ]
         },
        "address":
        {
            {% include 'DataType/XADAddress' XAD: RXA.28 -%}
        },
    },
    "request":{
        "method":"PUT",
        {% if Root_Template == "ADT_A29" -%}
            "method":"DELETE",
        {% endif -%} 
        "url":"Location/{{ locationId_PL_1 }}",
    },
},
{% endif -%}
{% if PL.2 -%}
{
    "fullUrl":"urn:uuid:{{ locationId_PL_2 }}",
    "resource":{
        "resourceType": "Location",
        "id":"{{ locationId_PL_2 }}",
        {% if locationId_PL_1 -%}
        "partOf":{
            "reference":"Location/{{locationId_PL_1}}"
        },
        {% endif %}
        {% include 'DataType/PL_HDLocation' HD: PL.2 -%},
        "mode":"instance",
        {% assign PLValue= PL.Value%}
        {% capture textstring %}{{ PLValue  | split: "^" | join: "--" }}{% endcapture -%}
        {% capture specomp %}{{ textstring  | split: "~" | join: "+" }}{% endcapture -%}
        {% capture description %}{{ specomp  | split: "&" | join: "--" }}{% endcapture -%}
        "description" : "{{ description }}",
        "alias" : [
            "{{NTE.3.Value}}",
            ],
        "type" : [
            { 
                {% include 'DataType/CWECodeableConcept' mapping: 'CodeSystem/LocationRoleType', CWE: AIL_4 -%}
            },
        ],
        "physicalType":{
            "coding":[
               {
                  "system":"http://terminology.hl7.org/CodeSystem/location-physical-type",
                  "code":"ro",
               }
            ]
         },
        "address":
        {
            {% include 'DataType/XADAddress' XAD: RXA.28 -%}
        },
    },
    "request":{
        "method":"PUT",
        {% if Root_Template == "ADT_A29" -%}
            "method":"DELETE",
        {% endif -%} 
        "url":"Location/{{ locationId_PL_2 }}",
    },
},
{% endif -%}
{% if PL.3 -%}
{
    "fullUrl":"urn:uuid:{{ locationId_PL_3 }}",
    "resource":{
        "resourceType": "Location",
        "id":"{{ locationId_PL_3 }}",
        {% if locationId_PL_2 -%}
        "partOf":{
            "reference":"Location/{{locationId_PL_2}}"
        },
        {% endif %}
        {% include 'DataType/PL_HDLocation' HD: PL.3 -%},
        "mode":"instance",
        {% assign PLValue= PL.Value%}
        {% capture textstring %}{{ PLValue  | split: "^" | join: "--" }}{% endcapture -%}
        {% capture specomp %}{{ textstring  | split: "~" | join: "+" }}{% endcapture -%}
        {% capture description %}{{ specomp  | split: "&" | join: "--" }}{% endcapture -%}
        "description" : "{{ description }}",
        "alias" : [
            "{{NTE.3.Value}}",
            ],
        "type" : [
            { 
                {% include 'DataType/CWECodeableConcept' mapping: 'CodeSystem/LocationRoleType', CWE: AIL_4 -%}
            },
        ],
        "physicalType":{
            "coding":[
               {
                  "system":"http://terminology.hl7.org/CodeSystem/location-physical-type",
                  "code":"bd",
               }
            ]
         },
        "address":
        {
            {% include 'DataType/XADAddress' XAD: RXA.28 -%}
        },
    },
    "request":{
        "method":"PUT",
        {% if Root_Template == "ADT_A29" -%}
            "method":"DELETE",
        {% endif -%} 
        "url":"Location/{{ locationId_PL_3 }}",
    },
},
{% endif -%}
{% if PL.4 -%}
{
    "fullUrl":"urn:uuid:{{ locationId_PL_4 }}",
    "resource":{
        "resourceType": "Location",
        "id":"{{ locationId_PL_4 }}",
        {% include 'DataType/PL_HDLocation' HD: PL.4 -%},
        "mode":"instance",
        {% assign PLValue= PL.Value%}
        {% capture textstring %}{{ PLValue  | split: "^" | join: "--" }}{% endcapture -%}
        {% capture specomp %}{{ textstring  | split: "~" | join: "+" }}{% endcapture -%}
        {% capture description %}{{ specomp  | split: "&" | join: "--" }}{% endcapture -%}
        "description" : "{{ description }}",
        "alias" : [
            "{{NTE.3.Value}}",
            ],
        "type" : [
            { 
                {% include 'DataType/CWECodeableConcept' mapping: 'CodeSystem/LocationRoleType', CWE: AIL_4 -%}
            },
        ],
        "physicalType":{
            "coding":[
               {
                  "system":"http://terminology.hl7.org/CodeSystem/location-physical-type",
                  "code":"si",
               }
            ]
         },
        "address":
        {
            {% include 'DataType/XADAddress' XAD: RXA.28 -%}
        },
    },
    "request":{
        "method":"PUT",
        {% if Root_Template == "ADT_A29" -%}
            "method":"DELETE",
        {% endif -%} 
        "url":"Location/{{ locationId_PL_4 }}",
    },
},
{% endif -%}
{% if PL.7 -%}
{
    "fullUrl":"urn:uuid:{{ locationId_PL_7 }}",
    "resource":{
        "resourceType": "Location",
        "id":"{{ locationId_PL_7 }}",
        {% if locationId_PL_4 -%}
        "partOf":{
            "reference":"Location/{{locationId_PL_4}}"
        },
        {% endif %}
        {% include 'DataType/PL_HDLocation' HD: PL.7 -%},
        "mode":"instance",
        {% assign PLValue= PL.Value%}
        {% capture textstring %}{{ PLValue  | split: "^" | join: "--" }}{% endcapture -%}
        {% capture specomp %}{{ textstring  | split: "~" | join: "+" }}{% endcapture -%}
        {% capture description %}{{ specomp  | split: "&" | join: "--" }}{% endcapture -%}
        "description" : "{{ description }}",
        "alias" : [
            "{{NTE.3.Value}}",
            ],
        "type" : [
            { 
                {% include 'DataType/CWECodeableConcept' mapping: 'CodeSystem/LocationRoleType', CWE: AIL_4 -%}
            },
        ],
        "physicalType":{
            "coding":[
               {
                  "system":"http://terminology.hl7.org/CodeSystem/location-physical-type",
                  "code":"bu",
               }
            ]
         },
        "address":
        {
            {% include 'DataType/XADAddress' XAD: RXA.28 -%}
        },
    },
    "request":{
        "method":"PUT",
        {% if Root_Template == "ADT_A29" -%}
            "method":"DELETE",
        {% endif -%} 
        "url":"Location/{{ locationId_PL_7 }}",
    },
},
{% endif -%}
{% if PL.8 -%}
{
    "fullUrl":"urn:uuid:{{ locationId_PL_8 }}",
    "resource":{
        "resourceType": "Location",
        "id":"{{ locationId_PL_8 }}",
        {% if locationId_PL_7 -%}
        "partOf":{
            "reference":"Location/{{locationId_PL_7}}"
        },
        {% endif %}
        {% include 'DataType/PL_HDLocation' HD: PL.8 -%},
        "mode":"instance",
        {% assign PLValue= PL.Value%}
        {% capture textstring %}{{ PLValue  | split: "^" | join: "--" }}{% endcapture -%}
        {% capture specomp %}{{ textstring  | split: "~" | join: "+" }}{% endcapture -%}
        {% capture description %}{{ specomp  | split: "&" | join: "--" }}{% endcapture -%}
        "description" : "{{ description }}",
        "alias" : [
            "{{NTE.3.Value}}",
            ],
        "type" : [
            { 
                {% include 'DataType/CWECodeableConcept' mapping: 'CodeSystem/LocationRoleType', CWE: AIL_4 -%}
            },
        ],
        "physicalType":{
            "coding":[
               {
                  "system":"http://terminology.hl7.org/CodeSystem/location-physical-type",
                  "code":"lvl",
               }
            ]
         },
        "address":
        {
            {% include 'DataType/XADAddress' XAD: RXA.28 -%}
        },
    },
    "request":{
        "method":"PUT",
        {% if Root_Template == "ADT_A29" -%}
            "method":"DELETE",
        {% endif -%} 
        "url":"Location/{{ locationId_PL_8 }}",
    },
},
{% endif -%}

{% if PL_1 -%}
{
    "fullUrl":"urn:uuid:{{ ID }}",
    "resource":{
        "resourceType": "Location",
        "id":"{{ ID }}",
        {% include 'DataType/PL_HDLocation' HD: PL_1 -%},
        "mode":"instance",
        "physicalType":{
            "coding":[
               {
                  "system":"http://terminology.hl7.org/CodeSystem/location-physical-type",
                  "code":"lvl"
               }
            ]
        },
    },
    "request":{
        "method":"PUT",
        {% if Root_Template == "ADT_A29" -%}
            "method":"DELETE",
        {% endif -%} 
        "url":"Location/{{ ID }}",
    },
},
{% endif -%}
{% if PL_2 -%}
    {
        "fullUrl":"urn:uuid:{{ ID }}",
        "resource":{
            "resourceType": "Location",
            "id":"{{ ID }}",
            {% include 'DataType/PL_HDLocation' HD: PL_2 -%},
            "mode":"instance",
            "physicalType":{
                "coding":[
                {
                    "system":"http://terminology.hl7.org/CodeSystem/location-physical-type",
                    "code":"ro",
                }
                ]
            },
        },
        "request":{
            "method":"PUT",
            {% if Root_Template == "ADT_A29" -%}
                "method":"DELETE",
            {% endif -%} 
            "url":"Location/{{ ID }}",
        },
    },
{% endif -%}
