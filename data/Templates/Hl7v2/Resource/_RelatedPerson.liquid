{
    "fullUrl":"urn:uuid:{{ ID }}",
    "resource":{
        "resourceType": "RelatedPerson",
        "id":"{{ ID }}",
        "identifier":
        [
            { {% include 'DataType/CX' with CX: PID.21 -%} },
            { {% include 'DataType/EIIdentifier' with EI: ROL.1 -%} },
            {
                {% include 'DataType/PLN' with PLN: PRT.24 -%}
            },
        ],
        "relationship":
        [
            { {% include 'DataType/CWECodeableConcept' with mapping: 'CodeSystem/Role', CWE: ROL.3 -%} },
            { {% include 'DataType/CWECodeableConcept' with mapping: 'CodeSystem/Relationship', CWE: NK1.3 -%} },
            {
                {% include 'DataType/CWECodeableConcept' with mapping: 'CodeSystem/Relationship', CWE: NK1.7 -%}
            },
            { {% include 'DataType/CWECodeableConcept' with mapping: 'CodeSystem/Participation', CWE: PRT.4 -%} },
        ],
        {% include 'DataType/XCNRelatedPerson' with XCN: ROL.4 -%}
        "period":
        {
            "start":"{{ ROL.5.Value | format_as_date_time }}",
            "start":"{{ NK1.8.Value | format_as_date_time }}",
            "start":"{{ PRT.11.Value | format_as_date_time }}",
            "end":"{{ ROL.6.Value | format_as_date_time }}",
            "end":"{{ NK1.9.Value | format_as_date_time }}",
            "end":"{{ PRT.12.Value | format_as_date_time }}",
        },
        "address":
        [
            { {% include 'DataType/XAD' with XAD: ROL.11 -%} },
            {
                {% include 'DataType/XAD' with XAD: NK1.4 -%}
            },
            {
                {% include 'DataType/XAD' with XAD: NK1.32 -%}
            },
            { {% include 'DataType/XAD' with XAD: PRT.14 -%} },
        ],
        "telecom":
        [
            { {% include 'DataType/XTN' with XTN: ROL.12 -%} },
            {% for n in NK1.5.Repeats -%}
            {
                {% include 'DataType/XTN' with XTN: n -%}
            },
            {% endfor -%}
            {
                {% include 'DataType/XTN' with XTN: NK1.6 -%}
                {% if NK1.6 -%}
                "use":"work",
                {% endif -%}
            },
            {
                {% include 'DataType/XTN' with XTN: NK1.31 -%}
            },
            {
                {% include 'DataType/XTN' with XTN: NK1.40 -%}
            },
            {
                {% include 'DataType/XTN' with XTN: NK1.41 -%}
            },
            { {% include 'DataType/XTN' with XTN: PRT.15 -%} },
        ],
        "name":
        [
            { {% include 'DataType/XPN' with XPN: NK1.2 -%} },
            { {% include 'DataType/XPN' with XPN: NK1.30 -%} },
        ],
        "gender":"{{ NK1.15.Value | get_property: 'CodeSystem/Gender', 'code' }}",
        "birthDate":"{{ NK1.16.Value | add_hyphens_date }}",
        "communication":
        [
            {
                "language":
                {
                    {% include 'DataType/CWECodeableConcept' with mapping: 'CodeSystem/Language', CWE: NK1.20 -%}
                },
            },
        ],
        {% include 'DataType/XCNRelatedPerson' with XCN: PRT.5 -%}
    },
    "request":{
        "method":"PUT",
        "url":"RelatedPerson/{{ ID }}",
    },
},
