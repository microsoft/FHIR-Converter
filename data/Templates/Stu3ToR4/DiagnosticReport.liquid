{% mergeDiff msg -%}
{
  "contained" : [ {{msg.contained | to_array | batch_render : 'Resource', 'msg'}} ],
  "category" : [{{msg.category | to_json_string | default : '""'}}],
  "encounter" : {{msg.context | to_json_string | default : '""'}},
  "performer" : [ {{ msg.performer | to_array | batch_render: 'DiagnosticReport/Performer', 'msg' }} ],
  "media" : {{msg.image | to_json_string | default : '""' }},
  "conclusionCode" : {{msg.codedDiagnosis | to_json_string | default : '""'}},
  "codedDiagnosis" : "",
  "image" : "",
  "context" : ""
}
{% endmergeDiff -%}