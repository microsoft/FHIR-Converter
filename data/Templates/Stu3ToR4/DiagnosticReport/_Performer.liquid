{% mergeDiff msg -%}
{
  "extension" : [
    {% for e in msg.extension -%}
    {{ e | to_json_string | default : '""'}},
    {% endfor -%}
    {%if msg.role -%}
    {
      "url" : "http://hl7.org/fhir/r3/StructureDefinition/extension-DiagnosticReport.performer.role",
      "valueCodeableConcept" : {{msg.role | to_json_string | default : '""' }}
    },
    {% endif -%}
  ],
  "actor" : "",
  "role" : "",
  "reference" : "{{msg.actor.reference}}",
  "identifier" : {{msg.actor.identifier | to_json_string | default:'""'}},
  "display" : "{{msg.actor.display}}"
}
{% endmergeDiff -%}
