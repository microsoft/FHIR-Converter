{% mergeDiff msg -%}
{
  "extension" : [
    {% for e in msg.extension -%}
    {{ e | to_json_string | default : '""'}},
    {% endfor -%}
    {%if msg.category -%}
    {
      "url" : "http://hl7.org/fhir/r3/StructureDefinition/extension-CarePlan.activity.detail.category",
      "valueCodeableConcept" : {{msg.category | to_json_string | default : '""' }}
    },
    {% endif -%}
  ],
  "instantiatesCanonical" : [
    {{msg.definition | to_json_string | default : '""'}}
  ],
  "statusReason" : {
    "text" : "{{msg.statusReason}}"
  },
  "doNotPerform" : "{{msg.prohibited}}",
  "prohibited" : "",
  "definition" : "",
  "category" : ""
}
{% endmergeDiff -%}