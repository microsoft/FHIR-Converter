{% mergeDiff msg -%}
{
  "contained" : [ {{msg.contained | to_array | batch_render : 'Resource', 'msg'}} ],
  "occurredPeriod" : {{msg.period | to_json_string | default : '""'}},
  "reason" : [ {{ msg.reason | to_array | batch_render: 'DataType/CodingToCodeableConcept', 'msg' }} ],
  "activity" : {% include 'DataType/CodingToCodeableConcept' msg: msg.activity -%},
  "agent" : [ {{ msg.agent | to_array | batch_render: 'Provenance/Agent', 'msg' }} ],
  "entity" : [ {{ msg.entity | to_array | batch_render: 'Provenance/Entity', 'msg' }} ],
  "signature" : [ {{ msg.signature | to_array | batch_render: 'DataType/Signature', 'msg' }} ],
  "period" : ""
}
{% endmergeDiff -%}